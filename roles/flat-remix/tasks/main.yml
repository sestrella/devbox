---
- name: Add repository key
  apt_key:
    id: BA309D7C0CBE9A2DF584AC50A074F0583066C9C9
    state: present
  become: true

- name: Add repository
  apt_repository:
    repo: "deb [arch=amd64] http://ppa.launchpad.net/daniruiz/flat-remix/ubuntu {{ ansible_distribution_release }} main"
    state: present
    filename: flat-remix
  become: true

- name: Install packages
  apt:
    name: "{{ flat_remix_packages }}"
    state: present
  become: true

- name: Set GTK theme
  dconf:
    key: "/org/gnome/desktop/interface/gtk-theme"
    value: "'{{ flat_remix_gtk_theme }}'"
    state: present

- name: Set icon theme
  dconf:
    key: "/org/gnome/desktop/interface/icon-theme"
    value: "'{{ flat_remix_icon_theme }}'"
    state: present

- name: Set user theme
  dconf:
    key: "/org/gnome/shell/extensions/user-theme/name"
    value: "'{{ flat_remix_user_theme }}'"
    state: present
